'use strict';var logoutUrl="${logout}",validateSessionUrl="${validateSession}",logoutFuncUrl="${logoutFunc}";function endSession(a){a=new XMLHttpRequest;a.onreadystatechange=function(){};a.open("GET",logoutUrl);a.send()}var validNavigation=!1;
$(document).ready(function(){$.ajax({type:"POST",url:validateSessionUrl,data:JSON.stringify({}),dataType:"html",async:!0,contentType:"application/json; charset=utf-8",success:function(a){-1!==a.indexOf("invalid")&&($(".session-disp").html(a),$.ajax({url:logoutFuncUrl,type:"POST",async:!0}))},error:function(){alert("Session is expired or invalid.");location.reload()}});window.addEventListener("beforeunload",function(a){!0===!validNavigation&&endSession(1)});$(window).bind("keydown",function(a){115===
a.keyCode&&endSession(1);116===a.keyCode&&(validNavigation=!0);13===a.keyCode&&(validNavigation=!0)});window.addEventListener("click",function(a){validNavigation=!0});$("form").bind("submit",function(a){validNavigation=!0});$("input[type=submit]").bind("click",function(a){validNavigation=!0});window.addEventListener("mouseover",function(){validNavigation=!0});window.addEventListener("mouseout",function(){validNavigation=!1})});
